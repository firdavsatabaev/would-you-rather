{"ast":null,"code":"import _classCallCheck from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{setAuthedUser}from'../../actions/authedUser';import{setCurrentTab}from'../../actions/currentTab';import SignInputBox from'./SignInputBox';import'../../styles/SignInPage.css';/**\n * Class component representing the sign in page.\n * @extends Component\n */var SignInPage=/*#__PURE__*/function(_Component){_inherits(SignInPage,_Component);var _super=_createSuper(SignInPage);function SignInPage(){var _this;_classCallCheck(this,SignInPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',incorrectCredentials:false,anyBlankField:false};_this.handleInput=function(inputType,inputValue){switch(inputType){case'username':_this.setState({username:inputValue});break;case'password':_this.setState({password:inputValue});break;default:break;}};_this.handleSubmit=function(e){e.preventDefault();var params=_this.props.match.params;var param=params.param,param2=params.param2;var _this$state=_this.state,username=_this$state.username,password=_this$state.password;var users=_this.props.users;if(!username||!password){_this.setState({anyBlankField:true,incorrectCredentials:false,username:'',password:''});}else{if(users[username]){var recordedPassword=users[username].password;if(recordedPassword===password){// Log in successfully by routing to the next page\n_this.props.dispatch(setAuthedUser(username));switch(param){case'signin':case'questions':_this.props.dispatch(setCurrentTab('home'));break;case'add':_this.props.dispatch(setCurrentTab('newQuestion'));break;case'leaderboard':_this.props.dispatch(setCurrentTab('leaderboard'));break;default:_this.props.dispatch(setCurrentTab('home'));break;}if(param==='signin'){_this.props.history.push('/questions');}else{if(param2!==undefined){_this.props.history.push(\"/\".concat(param,\"/\").concat(param2));}else{_this.props.history.push(\"/\".concat(param));}}}else{_this.setState({anyBlankField:false,incorrectCredentials:true,username:'',password:''});}}else{_this.setState({anyBlankField:false,incorrectCredentials:true,username:'',password:''});}}};return _this;}_createClass(SignInPage,[{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,password=_this$state2.password,anyBlankField=_this$state2.anyBlankField,incorrectCredentials=_this$state2.incorrectCredentials;return/*#__PURE__*/React.createElement(\"div\",{className:\"signin-form-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"username-input\"},/*#__PURE__*/React.createElement(SignInputBox,{label:\"Username:\",inputName:\"username\",onChange:this.handleInput,value:username})),/*#__PURE__*/React.createElement(\"div\",{className:\"password-input\"},/*#__PURE__*/React.createElement(SignInputBox,{label:\"Password:\",inputName:\"password\",onChange:this.handleInput,value:password})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"signin-signin-button\",onClick:this.handleSubmit},\"SIGN IN\")),anyBlankField&&/*#__PURE__*/React.createElement(\"p\",{className:\"account-creation-message\"},\"You cannot leave any field blank. Please try again!\"),incorrectCredentials&&/*#__PURE__*/React.createElement(\"p\",{className:\"account-creation-message\"},\"Either the username or password is incorrect. Please try again!\"));}}]);return SignInPage;}(Component);function mapStateToProps(_ref){var users=_ref.users;return{users:users};}export default connect(mapStateToProps)(SignInPage);","map":{"version":3,"sources":["/home/firdavs/would-you-rather/src/components/LandingPage/SignInPage.js"],"names":["React","Component","connect","setAuthedUser","setCurrentTab","SignInputBox","SignInPage","state","username","password","incorrectCredentials","anyBlankField","handleInput","inputType","inputValue","setState","handleSubmit","e","preventDefault","params","props","match","param","param2","users","recordedPassword","dispatch","history","push","undefined","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { setAuthedUser } from '../../actions/authedUser';\nimport { setCurrentTab } from '../../actions/currentTab';\nimport SignInputBox from './SignInputBox';\nimport '../../styles/SignInPage.css';\n\n/**\n * Class component representing the sign in page.\n * @extends Component\n */\nclass SignInPage extends Component {\n  state = {\n    username: '',\n    password: '',\n    incorrectCredentials: false,\n    anyBlankField: false,\n  };\n\n  handleInput = (inputType, inputValue) => {\n    switch (inputType) {\n      case 'username':\n        this.setState({\n          username: inputValue,\n        });\n        break;\n      case 'password':\n        this.setState({\n          password: inputValue,\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const {\n      match: { params },\n    } = this.props;\n    const { param, param2 } = params;\n    const { username, password } = this.state;\n    const { users } = this.props;\n    \n    if (!username || !password) {\n      this.setState({\n        anyBlankField: true,\n        incorrectCredentials: false,\n        username: '',\n        password: '',\n      });\n    } else {\n      if (users[username]) {\n        const recordedPassword = users[username].password;\n        if (recordedPassword === password) {\n          // Log in successfully by routing to the next page\n          this.props.dispatch(setAuthedUser(username));\n          switch (param) {\n            case 'signin':\n            case 'questions':\n              this.props.dispatch(setCurrentTab('home'));\n              break;\n            case 'add':\n              this.props.dispatch(setCurrentTab('newQuestion'));\n              break;\n            case 'leaderboard':\n              this.props.dispatch(setCurrentTab('leaderboard'));\n              break;\n            default:\n              this.props.dispatch(setCurrentTab('home'));\n              break;\n          }\n\n          if (param === 'signin') {\n            this.props.history.push('/questions');\n          } else {\n            if (param2 !== undefined) {\n              this.props.history.push(`/${param}/${param2}`);\n            } else {\n              this.props.history.push(`/${param}`);\n            }\n          }\n        } else {\n          this.setState({\n            anyBlankField: false,\n            incorrectCredentials: true,\n            username: '',\n            password: '',\n          });\n        }\n      } else {\n        this.setState({\n          anyBlankField: false,\n          incorrectCredentials: true,\n          username: '',\n          password: '',\n        });\n      }\n    }\n  };\n\n  render() {\n    const {\n      username,\n      password,\n      anyBlankField,\n      incorrectCredentials,\n    } = this.state;\n    return (\n      <div className='signin-form-box'>\n        <div className='username-input'>\n          <SignInputBox\n            label='Username:'\n            inputName='username'\n            onChange={this.handleInput}\n            value={username}\n          />\n        </div>\n        <div className='password-input'>\n          <SignInputBox\n            label='Password:'\n            inputName='password'\n            onChange={this.handleInput}\n            value={password}\n          />\n        </div>\n        <div>\n          <button className='signin-signin-button' onClick={this.handleSubmit}>\n            SIGN IN\n          </button>\n        </div>\n        {anyBlankField && (\n          <p className='account-creation-message'>\n            You cannot leave any field blank. Please try again!\n          </p>\n        )}\n        {incorrectCredentials && (\n          <p className='account-creation-message'>\n            Either the username or password is incorrect. Please try again!\n          </p>\n        )}\n      </div>\n    );\n  }\n}\n\nSignInPage.propTypes = {\n  users: PropTypes.object.isRequired,\n};\n\nfunction mapStateToProps({ users }) {\n  return {\n    users,\n  };\n}\n\nexport default connect(mapStateToProps)(SignInPage);\n"]},"metadata":{},"sourceType":"module"}