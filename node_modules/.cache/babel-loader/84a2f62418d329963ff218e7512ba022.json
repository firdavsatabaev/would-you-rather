{"ast":null,"code":"import _classCallCheck from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/firdavs/would-you-rather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import PropTypes from'prop-types';import{connect}from'react-redux';import'../../styles/Tabs.css';import TeaserCard from'./TeaserCard';/**\n * Class component representing the questions on both tabs of the home page.\n * @extends Component\n */var Tabs=/*#__PURE__*/function(_Component){_inherits(Tabs,_Component);var _super=_createSuper(Tabs);function Tabs(){var _this;_classCallCheck(this,Tabs);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentTab:'unansweredQuestions'};return _this;}_createClass(Tabs,[{key:\"fetchQuestions\",value:function fetchQuestions(){var _this$props=this.props,users=_this$props.users,questions=_this$props.questions,authedUser=_this$props.authedUser;var answeredQuestions=Object.keys(users[authedUser].answers);var unansweredQuestions=Object.keys(questions).filter(function(id){return!answeredQuestions.includes(id);});var unansweredQuestionsArray=[];unansweredQuestions.map(function(questionId){return unansweredQuestionsArray.push({questionId:questionId,author:users[questions[questionId].author].name,avatarURL:users[questions[questionId].author].avatarURL,optionOne:questions[questionId].optionOne.text,optionTwo:questions[questionId].optionTwo.text,timestamp:questions[questionId].timestamp});});unansweredQuestionsArray.sort(function(a,b){return b.timestamp-a.timestamp;});var answeredQuestionsArray=[];answeredQuestions.map(function(questionId){return answeredQuestionsArray.push({questionId:questionId,author:users[questions[questionId].author].name,avatarURL:users[questions[questionId].author].avatarURL,optionOne:questions[questionId].optionOne.text,optionTwo:questions[questionId].optionTwo.text,timestamp:questions[questionId].timestamp});});answeredQuestionsArray.sort(function(a,b){return b.timestamp-a.timestamp;});return{unansweredQuestions:unansweredQuestionsArray,answeredQuestions:answeredQuestionsArray};}},{key:\"render\",value:function render(){var _this2=this;var _this$fetchQuestions=this.fetchQuestions(),unansweredQuestions=_this$fetchQuestions.unansweredQuestions,answeredQuestions=_this$fetchQuestions.answeredQuestions;var currentTab=this.state.currentTab;return/*#__PURE__*/React.createElement(\"div\",{className:\"content-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-column card-left\"},/*#__PURE__*/React.createElement(\"button\",{className:\"tab-title \".concat(currentTab==='unansweredQuestions'&&'active-tab'),onClick:function onClick(){return _this2.setState({currentTab:'unansweredQuestions'});}},\"UNANSWERED QUESTIONS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-column card-right\"},/*#__PURE__*/React.createElement(\"button\",{className:\"tab-title \".concat(currentTab==='answeredQuestions'&&'active-tab'),onClick:function onClick(){return _this2.setState({currentTab:'answeredQuestions'});}},\"ANSWERED QUESTIONS\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-body\"},currentTab==='unansweredQuestions'&&unansweredQuestions.map(function(question,index){return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(TeaserCard,{questionId:question.questionId,author:question.author,avatarURL:question.avatarURL,optionOne:question.optionOne}));}),currentTab==='answeredQuestions'&&answeredQuestions.map(function(question,index){return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(TeaserCard,{questionId:question.questionId,author:question.author,avatarURL:question.avatarURL,optionOne:question.optionOne}));})));}}]);return Tabs;}(Component);Tabs.propType={users:PropTypes.object.isRequired,questions:PropTypes.object.isRequired,authedUser:PropTypes.string.isRequired};function mapStateToProps(_ref){var users=_ref.users,questions=_ref.questions,authedUser=_ref.authedUser;return{users:users,questions:questions,authedUser:authedUser};}export default connect(mapStateToProps)(Tabs);","map":{"version":3,"sources":["/home/firdavs/would-you-rather/src/components/HomePage/Tabs.js"],"names":["React","Component","PropTypes","connect","TeaserCard","Tabs","state","currentTab","props","users","questions","authedUser","answeredQuestions","Object","keys","answers","unansweredQuestions","filter","id","includes","unansweredQuestionsArray","map","questionId","push","author","name","avatarURL","optionOne","text","optionTwo","timestamp","sort","a","b","answeredQuestionsArray","fetchQuestions","setState","question","index","propType","object","isRequired","string","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport '../../styles/Tabs.css';\nimport TeaserCard from './TeaserCard';\n\n/**\n * Class component representing the questions on both tabs of the home page.\n * @extends Component\n */\nclass Tabs extends Component {\n  state = {\n    currentTab: 'unansweredQuestions',\n  };\n\n  fetchQuestions() {\n    const { users, questions, authedUser } = this.props;\n    const answeredQuestions = Object.keys(users[authedUser].answers);\n    const unansweredQuestions = Object.keys(questions).filter(\n      id => !answeredQuestions.includes(id)\n    );\n\n    let unansweredQuestionsArray = [];\n    unansweredQuestions.map(questionId =>\n      unansweredQuestionsArray.push({\n        questionId,\n        author: users[questions[questionId].author].name,\n        avatarURL: users[questions[questionId].author].avatarURL,\n        optionOne: questions[questionId].optionOne.text,\n        optionTwo: questions[questionId].optionTwo.text,\n        timestamp: questions[questionId].timestamp,\n      })\n    );\n    unansweredQuestionsArray.sort((a, b) => b.timestamp - a.timestamp);\n\n    let answeredQuestionsArray = [];\n    answeredQuestions.map(questionId =>\n      answeredQuestionsArray.push({\n        questionId,\n        author: users[questions[questionId].author].name,\n        avatarURL: users[questions[questionId].author].avatarURL,\n        optionOne: questions[questionId].optionOne.text,\n        optionTwo: questions[questionId].optionTwo.text,\n        timestamp: questions[questionId].timestamp,\n      })\n    );\n    answeredQuestionsArray.sort((a, b) => b.timestamp - a.timestamp);\n\n    return {\n      unansweredQuestions: unansweredQuestionsArray,\n      answeredQuestions: answeredQuestionsArray,\n    };\n  }\n\n  render() {\n    const { unansweredQuestions, answeredQuestions } = this.fetchQuestions();\n    const { currentTab } = this.state;\n\n    return (\n      <div className='content-container'>\n        <div className='content-header'>\n          <div className='card-column card-left'>\n            <button\n              className={`tab-title ${\n                currentTab === 'unansweredQuestions' && 'active-tab'\n              }`}\n              onClick={() =>\n                this.setState({ currentTab: 'unansweredQuestions' })\n              }\n            >\n              UNANSWERED QUESTIONS\n            </button>\n          </div>\n          <div className='card-column card-right'>\n            <button\n              className={`tab-title ${\n                currentTab === 'answeredQuestions' && 'active-tab'\n              }`}\n              onClick={() => this.setState({ currentTab: 'answeredQuestions' })}\n            >\n              ANSWERED QUESTIONS\n            </button>\n          </div>\n        </div>\n        <div className='content-body'>\n          {currentTab === 'unansweredQuestions' &&\n            unansweredQuestions.map((question, index) => (\n              <div key={index}>\n                <TeaserCard\n                  questionId={question.questionId}\n                  author={question.author}\n                  avatarURL={question.avatarURL}\n                  optionOne={question.optionOne}\n                />\n              </div>\n            ))}\n          {currentTab === 'answeredQuestions' &&\n            answeredQuestions.map((question, index) => (\n              <div key={index}>\n                <TeaserCard\n                  questionId={question.questionId}\n                  author={question.author}\n                  avatarURL={question.avatarURL}\n                  optionOne={question.optionOne}\n                />\n              </div>\n            ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nTabs.propType = {\n  users: PropTypes.object.isRequired,\n  questions: PropTypes.object.isRequired,\n  authedUser: PropTypes.string.isRequired,\n};\n\nfunction mapStateToProps({ users, questions, authedUser }) {\n  return {\n    users,\n    questions,\n    authedUser,\n  };\n}\n\nexport default connect(mapStateToProps)(Tabs);\n"]},"metadata":{},"sourceType":"module"}